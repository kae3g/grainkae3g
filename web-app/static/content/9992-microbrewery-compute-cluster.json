{
  "slug" : "9992-microbrewery-compute-cluster",
  "meta" : {
    "slug" : "9992-microbrewery-compute-cluster",
    "title" : "kae3g 9992: Microbrewery → Compute Cluster — Self-Hosted mantraOS Backend",
    "filename" : "9992-microbrewery-compute-cluster.md",
    "source-dir" : "hidden"
  },
  "html" : "<h1>kae3g 9992: Microbrewery → Compute Cluster — Self-Hosted mantraOS Backend</h1><p><strong>Timestamp:</strong> 12025-10-05&ndash;06thhouse01980<br /> <strong>Series:</strong> Technical Writings (9999 → 0000)<br /> <strong>Category:</strong> Infrastructure, Self-Hosting, Cost Analysis, Hardware Architecture<br /> <strong>Reading Time:</strong> 50 minutes</p><h2>Opening: From Fermentation to Computation</h2><pre><code class=\"clojure\">{:microbrewery-as-data-center\n &quot;A microbrewery has what compute clusters need:\n  - Temperature control &#40;for brewing lager → for cooling CPUs&#41;\n  - Humidity management &#40;for fermentation → for hardware longevity&#41;\n  - Power infrastructure &#40;for boiling kettles → for power supplies&#41;\n  - Plumbing &#40;for brewing water → for liquid cooling&#41;\n  - Space &#40;for fermentation tanks → for server racks&#41;\n  - Ventilation &#40;for CO2 exhaust → for heat exhaust&#41;\n  \n  The brewery IS a data center, waiting to be repurposed.&quot;\n \n :mantraos-context\n &quot;From 9993: mantraOS needs LOCAL compute.\n  Not AWS. Not GCP. Not Azure.\n  \n  Self-hosted, city-state-owned, cooperative-operated.\n  Running on commodity hardware, not cloud monopolies.\n  \n  This document: How to actually build it.&quot;}\n</code></pre><h2></h2><h2>Part I: The Microbrewery — Baseline Specifications</h2><h3>Typical American Microbrewery (1-5 BBL System)</h3><p><strong>Physical Infrastructure:</strong></p><ul><li><strong>Space</strong>: 1,500 - 3,000 sq ft</li><li><strong>Ceiling height</strong>: 12-16 ft (allows tall racks)</li><li><strong>Power</strong>: 200-400 amp service (240V single or 3-phase)</li><li><strong>Cooling</strong>: Glycol chiller (3-10 ton capacity) for fermentation</li><li><strong>Plumbing</strong>: RO water system, floor drains, wastewater handling</li><li><strong>HVAC</strong>: Ventilation for CO2, humidity control</li><li><strong>Floor load</strong>: Reinforced concrete (tanks are heavy → servers are light by comparison)</li></ul><p><strong>Why Microbreweries Fail (and become available):</strong></p><ul><li>Oversaturated market (2023: 9,000+ breweries in USA, many closing)</li><li>High operating costs (ingredients, labor, distribution)</li><li>Thin margins (craft beer competition intense)</li><li>Real estate costs (location critical for taproom, less so for brewery)</li></ul><p><strong>Acquisition Cost (Q4 2025 projection):</strong></p><ul><li><strong>Lease</strong>: $3,000 - $8,000/month (depends on city)</li><li><strong>Purchase</strong>: $200,000 - $800,000 (building + equipment)</li><li><strong>Equipment salvage value</strong>: $20,000 - $100,000 (sell brewing gear)</li></ul><p><strong>We assume LEASE model for cost analysis</strong> (more flexible, lower upfront).<h2></h2></p><h2>Part II: Conversion Plan — Brewery → Data Center</h2><h3>Phase 1: Infrastructure Assessment & Modification (Month 1-2)</h3><pre><code class=\"clojure\">{:infrastructure-modifications\n {:power-upgrade\n  {:existing &quot;200A service, single-phase 240V&quot;\n   :needed &quot;400A service, 3-phase 208V &#40;more efficient for PSUs&#41;&quot;\n   :cost-budget &quot;$8,000 - $15,000&quot;\n   :cost-better &quot;$12,000 - $20,000 &#40;with UPS integration&#41;&quot;\n   :cost-best &quot;$18,000 - $30,000 &#40;with generator backup&#41;&quot;\n   :timeline &quot;2-4 weeks &#40;utility coordination required&#41;&quot;}\n  \n  :cooling-system\n  {:existing &quot;Glycol chiller &#40;3-5 ton&#41; for fermentation tanks&quot;\n   :adaptation &quot;Repurpose for liquid cooling loops OR\n                Use existing building HVAC + add precision AC&quot;\n   :option-1-air-cooling\n   {:approach &quot;Remove glycol system, install precision AC units&quot;\n    :cost-budget &quot;$8,000 &#40;used Liebert/APC units, 5-10 ton&#41;&quot;\n    :cost-better &quot;$15,000 &#40;new mid-tier precision AC, 10-15 ton&#41;&quot;\n    :cost-best &quot;$25,000 &#40;redundant N+1 precision AC with hot aisle containment&#41;&quot;\n    :power-draw &quot;3-5 kW per 10 ton unit&quot;}\n   \n   :option-2-liquid-cooling\n   {:approach &quot;Adapt glycol chiller for server liquid cooling&quot;\n    :cost-budget &quot;$5,000 &#40;retrofit chiller, add manifolds&#41;&quot;\n    :cost-better &quot;$12,000 &#40;new chiller + distribution&#41;&quot;\n    :cost-best &quot;$20,000 &#40;redundant chillers + cold plates for CPUs&#41;&quot;\n    :advantage &quot;More efficient &#40;PUE &#126;1.1 vs 1.4 for air&#41;&quot;\n    :complexity &quot;Higher &#40;leak risk, maintenance&#41;&quot;}\n   \n   :recommendation &quot;Start with air cooling &#40;simpler&#41;, upgrade to liquid if needed&quot;}\n  \n  :networking-infrastructure\n  {:fiber-internet\n   {:speed-budget &quot;1 Gbps symmetrical &#40;$300-500/month&#41;&quot;\n    :speed-better &quot;10 Gbps symmetrical &#40;$800-1500/month&#41;&quot;\n    :speed-best &quot;2x 10 Gbps diverse paths &#40;$2000-3000/month&#41;&quot;\n    :note &quot;Business fiber, not residential&quot;}\n   \n   :internal-network\n   {:switches-budget &quot;Used 10GbE switches &#40;2x 48-port&#41;, $1,500&quot;\n    :switches-better &quot;New 10GbE managed switches, $4,000&quot;\n    :switches-best &quot;25GbE/40GbE spine-leaf topology, $12,000&quot;\n    :cabling &quot;CAT6A or fiber, $2,000 - $5,000&quot;}}\n  \n  :racks-and-physical\n  {:server-racks\n   {:budget &quot;Used 42U open-frame racks &#40;5x&#41;, $1,000&quot;\n    :better &quot;New enclosed 42U racks w/ PDUs &#40;5x&#41;, $4,000&quot;\n    :best &quot;Seismic-rated racks w/ cable mgmt &#40;5x&#41;, $8,000&quot;}\n   \n   :flooring\n   {:budget &quot;Use existing concrete, add anti-static mats, $500&quot;\n    :better &quot;Raised floor tiles &#40;partial&#41;, $5,000&quot;\n    :best &quot;Full raised floor w/ cable routing, $15,000&quot;\n    :note &quot;Brewery concrete usually good enough&quot;}\n   \n   :fire-suppression\n   {:budget &quot;Dry chemical extinguishers &#40;10x&#41;, $500&quot;\n    :better &quot;Pre-action sprinkler system, $8,000&quot;\n    :best &quot;FM-200 clean agent suppression, $20,000&quot;\n    :requirement &quot;May be required by insurance/code&quot;}}\n  \n  :total-infrastructure-costs\n  {:budget &quot;$27,000 - $35,000&quot;\n   :better &quot;$58,000 - $75,000&quot;\n   :best &quot;$120,000 - $150,000&quot;\n   :timeline &quot;2-3 months for buildout&quot;}}}\n</code></pre><h3>Phase 2: Hardware Procurement (Month 2-3)</h3><p><strong>Strategy</strong>: Buy commodity used server hardware from decommissioned data centers, Bitcoin mining farms going bust, and enterprise upgrades.</p><h4>Option A: AMD EPYC CPU-Based Cluster (Recommended for mantraOS)</h4><pre><code class=\"clojure\">{:amd-epyc-cluster\n {:node-specification-budget\n  {:cpu &quot;AMD EPYC 7402P &#40;24C/48T, 2.8GHz&#41;&quot;\n   :source &quot;Used enterprise servers &#40;Dell R7525, HPE DL385&#41;&quot;\n   :cost-per-cpu &quot;$800 - $1,200 &#40;used market&#41;&quot;\n   :motherboard &quot;Included in server chassis&quot;\n   :ram &quot;256GB DDR4-3200 ECC RDIMM&quot;\n   :ram-cost &quot;$400 - $600 &#40;used/refurb&#41;&quot;\n   :storage &quot;2x 1TB NVMe &#40;OS + cache&#41;, 4x 4TB SATA SSD &#40;data&#41;&quot;\n   :storage-cost &quot;$300 NVMe + $800 SATA = $1,100&quot;\n   :network &quot;Dual 10GbE &#40;onboard&#41;&quot;\n   :psu &quot;Redundant 1600W &#40;included&#41;&quot;\n   :total-per-node &quot;$2,300 - $2,900&quot;\n   :compute-power &quot;&#126;35,000 PassMark score&quot;\n   :power-draw &quot;250W avg, 350W peak&quot;}\n  \n  :node-specification-better\n  {:cpu &quot;AMD EPYC 7543 &#40;32C/64T, 2.8GHz&#41;&quot;\n   :source &quot;Recent decommissions, 1-2 years old&quot;\n   :cost-per-cpu &quot;$1,800 - $2,400&quot;\n   :ram &quot;512GB DDR4-3200 ECC RDIMM&quot;\n   :ram-cost &quot;$800 - $1,200&quot;\n   :storage &quot;2x 2TB NVMe, 8x 8TB SATA SSD&quot;\n   :storage-cost &quot;$600 NVMe + $1,600 SATA = $2,200&quot;\n   :total-per-node &quot;$4,800 - $6,200&quot;\n   :compute-power &quot;&#126;55,000 PassMark score&quot;\n   :power-draw &quot;280W avg, 400W peak&quot;}\n  \n  :node-specification-best\n  {:cpu &quot;AMD EPYC 9254 &#40;24C/48T, 2.9GHz, Zen 4&#41;&quot;\n   :source &quot;Current gen, new or lightly used&quot;\n   :cost-per-cpu &quot;$3,500 - $4,500&quot;\n   :ram &quot;768GB DDR5-4800 ECC RDIMM&quot;\n   :ram-cost &quot;$2,000 - $2,800&quot;\n   :storage &quot;4x 4TB NVMe Gen4, 8x 16TB SATA SSD&quot;\n   :storage-cost &quot;$2,400 NVMe + $3,200 SATA = $5,600&quot;\n   :total-per-node &quot;$11,100 - $14,900&quot;\n   :compute-power &quot;&#126;70,000 PassMark score&quot;\n   :power-draw &quot;320W avg, 450W peak&quot;}\n  \n  :cluster-configuration\n  {:budget-cluster\n   {:nodes 10\n    :cost-per-node &quot;$2,500 avg&quot;\n    :total-cost &quot;$25,000&quot;\n    :total-cores &quot;240C/480T&quot;\n    :total-ram &quot;2.5TB&quot;\n    :total-storage &quot;40TB NVMe + 160TB SSD&quot;\n    :aggregate-power &quot;2.5kW avg, 3.5kW peak&quot;\n    :note &quot;Good for dev/test, small production&quot;}\n   \n   :better-cluster\n   {:nodes 15\n    :cost-per-node &quot;$5,500 avg&quot;\n    :total-cost &quot;$82,500&quot;\n    :total-cores &quot;480C/960T&quot;\n    :total-ram &quot;7.5TB&quot;\n    :total-storage &quot;120TB NVMe + 480TB SSD&quot;\n    :aggregate-power &quot;4.2kW avg, 6kW peak&quot;\n    :note &quot;Production-ready for medium workloads&quot;}\n   \n   :best-cluster\n   {:nodes 20\n    :cost-per-node &quot;$13,000 avg&quot;\n    :total-cost &quot;$260,000&quot;\n    :total-cores &quot;480C/960T &#40;Zen 4, higher IPC&#41;&quot;\n    :total-ram &quot;15TB&quot;\n    :total-storage &quot;320TB NVMe + 1.28PB SSD&quot;\n    :aggregate-power &quot;6.4kW avg, 9kW peak&quot;\n    :note &quot;High-performance production cluster&quot;}}}}\n</code></pre><h4>Option B: AMD GPU-Based Cluster (For AI/ML Workloads)</h4><pre><code class=\"clojure\">{:amd-gpu-cluster\n {:why-amd-not-nvidia\n  &quot;NVIDIA has monopolistic pricing + vendor lock-in.\n   AMD Instinct/Radeon Pro:\n   - 40-60% cheaper per TFLOP\n   - Open-source ROCm stack &#40;vs CUDA lock-in&#41;\n   - Better for mantraOS philosophy &#40;open, accessible&#41;&quot;\n  \n  :node-specification-budget\n  {:cpu &quot;AMD EPYC 7402P &#40;24C/48T&#41;&quot; \n   :cost-cpu &quot;$1,000&quot;\n   :gpu &quot;2x AMD Radeon Pro W6800 &#40;32GB&#41;&quot;\n   :cost-gpu &quot;$1,600 used &#40;$800 each&#41;&quot;\n   :ram &quot;128GB DDR4 ECC&quot;\n   :cost-ram &quot;$300&quot;\n   :storage &quot;2x 1TB NVMe, 2x 4TB SSD&quot;\n   :cost-storage &quot;$700&quot;\n   :total-per-node &quot;$3,600&quot;\n   :gpu-tflops &quot;2x 17.83 = 35.66 TFLOPS &#40;FP32&#41;&quot;\n   :gpu-vram &quot;64GB total&quot;\n   :power-draw &quot;600W avg, 850W peak&quot;}\n  \n  :node-specification-better\n  {:cpu &quot;AMD EPYC 7543 &#40;32C/64T&#41;&quot;\n   :cost-cpu &quot;$2,000&quot;\n   :gpu &quot;4x AMD Radeon Pro W7900 &#40;48GB&#41;&quot;\n   :cost-gpu &quot;$8,000 &#40;$2,000 each, used&#41;&quot;\n   :ram &quot;256GB DDR4 ECC&quot;\n   :cost-ram &quot;$600&quot;\n   :storage &quot;2x 2TB NVMe, 4x 8TB SSD&quot;\n   :cost-storage &quot;$1,400&quot;\n   :total-per-node &quot;$12,000&quot;\n   :gpu-tflops &quot;4x 61 = 244 TFLOPS &#40;FP32&#41;&quot;\n   :gpu-vram &quot;192GB total&quot;\n   :power-draw &quot;1,200W avg, 1,600W peak&quot;}\n  \n  :node-specification-best\n  {:cpu &quot;AMD EPYC 9354 &#40;32C/64T, Zen 4&#41;&quot;\n   :cost-cpu &quot;$5,000&quot;\n   :gpu &quot;8x AMD Instinct MI210 &#40;64GB HBM2e&#41;&quot;\n   :cost-gpu &quot;$40,000 &#40;$5,000 each, used from HPC decommissions&#41;&quot;\n   :ram &quot;512GB DDR5 ECC&quot;\n   :cost-ram &quot;$1,500&quot;\n   :storage &quot;4x 4TB NVMe Gen4, 8x 16TB SSD&quot;\n   :cost-storage &quot;$3,000&quot;\n   :total-per-node &quot;$49,500&quot;\n   :gpu-tflops &quot;8x 45.3 = 362.4 TFLOPS &#40;FP32&#41;, 181.2 TFLOPS &#40;FP64&#41;&quot;\n   :gpu-vram &quot;512GB total HBM2e&quot;\n   :power-draw &quot;2,500W avg, 3,500W peak&quot;\n   :note &quot;Datacenter-grade AI/HPC&quot;}\n  \n  :cluster-configuration\n  {:budget-cluster\n   {:nodes 8\n    :cost-per-node &quot;$3,600&quot;\n    :total-cost &quot;$28,800&quot;\n    :total-gpu-tflops &quot;285 TFLOPS&quot;\n    :total-vram &quot;512GB&quot;\n    :aggregate-power &quot;4.8kW avg, 6.8kW peak&quot;}\n   \n   :better-cluster\n   {:nodes 6\n    :cost-per-node &quot;$12,000&quot;\n    :total-cost &quot;$72,000&quot;\n    :total-gpu-tflops &quot;1,464 TFLOPS&quot;\n    :total-vram &quot;1.15TB&quot;\n    :aggregate-power &quot;7.2kW avg, 9.6kW peak&quot;}\n   \n   :best-cluster\n   {:nodes 4\n    :cost-per-node &quot;$49,500&quot;\n    :total-cost &quot;$198,000&quot;\n    :total-gpu-tflops &quot;1,450 TFLOPS &#40;FP32&#41;&quot;\n    :total-vram &quot;2TB HBM2e&quot;\n    :aggregate-power &quot;10kW avg, 14kW peak&quot;\n    :note &quot;Overkill for most needs, matches small GPU cloud&quot;}}}}}\n</code></pre><h4>Option C: ARM-Based Cluster (Energy Efficiency Focus)</h4><pre><code class=\"clojure\">{:arm-cluster\n {:why-arm\n  &quot;Lower power consumption &#40;aligns with mantraOS sustainability&#41;.\n   Ampere Altra Max &#40;ARM Neoverse N1&#41;:\n   - 128 cores per socket, 250W TDP\n   - 2x cores per watt vs x86\n   - Works with standard Linux &#40;no emulation needed&#41;&quot;\n  \n  :node-specification-budget\n  {:cpu &quot;Ampere Altra Q80-30 &#40;80C, 3.0GHz&#41;&quot;\n   :source &quot;Used servers &#40;Gigabyte, Lenovo, HPE&#41;&quot;\n   :cost-cpu &quot;$1,500 - $2,000&quot;\n   :ram &quot;256GB DDR4-3200 ECC&quot;\n   :cost-ram &quot;$500&quot;\n   :storage &quot;2x 1TB NVMe, 4x 4TB SSD&quot;\n   :cost-storage &quot;$1,100&quot;\n   :total-per-node &quot;$3,100 - $3,600&quot;\n   :compute-power &quot;80 cores &#40;no SMT on ARM&#41;&quot;\n   :power-draw &quot;150W avg, 200W peak&quot;\n   :note &quot;Excellent performance-per-watt&quot;}\n  \n  :node-specification-better\n  {:cpu &quot;Ampere Altra Max M128-30 &#40;128C, 3.0GHz&#41;&quot;\n   :source &quot;Recent releases, some used available&quot;\n   :cost-cpu &quot;$3,500 - $4,500&quot;\n   :ram &quot;512GB DDR4-3200 ECC&quot;\n   :cost-ram &quot;$1,000&quot;\n   :storage &quot;4x 2TB NVMe, 8x 8TB SSD&quot;\n   :cost-storage &quot;$2,800&quot;\n   :total-per-node &quot;$7,300 - $8,300&quot;\n   :compute-power &quot;128 cores&quot;\n   :power-draw &quot;220W avg, 280W peak&quot;}\n  \n  :cluster-configuration\n  {:budget-cluster\n   {:nodes 12\n    :cost-per-node &quot;$3,400&quot;\n    :total-cost &quot;$40,800&quot;\n    :total-cores 960\n    :total-ram &quot;3TB&quot;\n    :aggregate-power &quot;1.8kW avg, 2.4kW peak&quot;\n    :efficiency &quot;Best $/watt, best cores/watt&quot;}\n   \n   :better-cluster\n   {:nodes 16\n    :cost-per-node &quot;$7,800&quot;\n    :total-cost &quot;$124,800&quot;\n    :total-cores 2048\n    :total-ram &quot;8TB&quot;\n    :aggregate-power &quot;3.5kW avg, 4.5kW peak&quot;\n    :note &quot;Massive parallel throughput&quot;}}\n  \n  :arm-limitations\n  &quot;Not all software has ARM builds &#40;though improving&#41;.\n   Docker images: Many x86-only &#40;can use QEMU, performance hit&#41;.\n   Best for: Web services, databases, batch processing.\n   Not ideal for: x86-specific legacy apps, some ML frameworks.&quot;}}\n</code></pre><h3>Phase 3: Software Stack & Orchestration (Month 3-4)</h3><pre><code class=\"clojure\">{:software-stack\n {:operating-system\n  {:choice &quot;NixOS &#40;from 9996 writing&#41;&quot;\n   :why &#91;&quot;Declarative config &#40;entire cluster defined in code&#41;&quot;\n         &quot;Reproducible &#40;same config = same result&#41;&quot;\n         &quot;Atomic upgrades &#40;rollback if fails&#41;&quot;\n         &quot;Perfect for mantraOS philosophy&quot;&#93;\n   :deployment &quot;NixOps or deploy-rs for cluster management&quot;}\n  \n  :container-orchestration\n  {:option-1-kubernetes\n   {:distribution &quot;K3s &#40;lightweight&#41; or vanilla Kubernetes&quot;\n    :pros &quot;Industry standard, huge ecosystem, battle-tested&quot;\n    :cons &quot;Complex, resource-heavy &#40;3-5% overhead&#41;&quot;\n    :cost &quot;Free &#40;open-source&#41;&quot;\n    :learning-curve &quot;Steep &#40;2-3 months to proficiency&#41;&quot;}\n   \n   :option-2-nomad\n   {:vendor &quot;HashiCorp&quot;\n    :pros &quot;Simpler than K8s, less overhead, multi-workload &#40;containers, VMs, binaries&#41;&quot;\n    :cons &quot;Smaller ecosystem than K8s&quot;\n    :cost &quot;Free &#40;open-source, or Nomad Enterprise $$$&#41;&quot;\n    :learning-curve &quot;Moderate &#40;1-2 weeks&#41;&quot;}\n   \n   :recommendation &quot;Nomad for simplicity, K8s if need ecosystem&quot;}\n  \n  :storage-layer\n  {:option-1-ceph\n   {:type &quot;Distributed object/block/file storage&quot;\n    :pros &quot;Scales infinitely, self-healing, production-proven&quot;\n    :cons &quot;Complex, requires 3+ nodes minimum&quot;\n    :deployment &quot;Rook operator &#40;for K8s&#41; or standalone&quot;}\n   \n   :option-2-minio\n   {:type &quot;S3-compatible object storage&quot;\n    :pros &quot;Simple, fast, S3 API &#40;app compatibility&#41;&quot;\n    :cons &quot;Not block storage &#40;need separate for DBs&#41;&quot;\n    :deployment &quot;Docker container or bare metal&quot;}\n   \n   :option-3-longhorn\n   {:type &quot;Cloud-native distributed block storage&quot;\n    :pros &quot;K8s-native, simple, good for small clusters&quot;\n    :cons &quot;Less mature than Ceph&quot;\n    :deployment &quot;Helm chart&quot;}}\n  \n  :networking\n  {:cni-plugin &quot;Cilium &#40;eBPF-based, high performance&#41;&quot;\n   :service-mesh &quot;Linkerd &#40;lightweight&#41; or Istio &#40;feature-rich&#41;&quot;\n   :ingress &quot;Traefik or NGINX Ingress Controller&quot;\n   :load-balancing &quot;MetalLB &#40;on-prem load balancer&#41;&quot;}\n  \n  :observability\n  {:metrics &quot;Prometheus + Thanos &#40;long-term storage&#41;&quot;\n   :logging &quot;Loki &#40;Grafana's log aggregator&#41;&quot;\n   :tracing &quot;Jaeger or Tempo&quot;\n   :dashboards &quot;Grafana&quot;\n   :cost &quot;All free, open-source&quot;\n   :resource-overhead &quot;&#126;5-8% cluster capacity&quot;}\n  \n  :ai-ml-stack\n  {:inference-runtime &quot;ONNX Runtime or TorchServe&quot;\n   :model-serving &quot;KServe &#40;K8s-native&#41; or BentoML&quot;\n   :vector-database &quot;Qdrant or Weaviate &#40;self-hosted&#41;&quot;\n   :llm-inference &quot;vLLM or Text Generation Inference &#40;TGI&#41;&quot;\n   :amd-gpu-support &quot;ROCm 6.x &#40;install on nodes w/ GPUs&#41;&quot;}}}\n</code></pre><h2></h2><h2>Part III: Total Cost of Ownership (TCO) Analysis</h2><h3>Scenario 1: CPU-Based Cluster (AMD EPYC, Better Tier)</h3><pre><code class=\"clojure\">{:tco-cpu-cluster-better\n {:capital-expenditure-capex\n  {:infrastructure-buildout &quot;$65,000&quot;\n   :compute-hardware &quot;$82,500 &#40;15 nodes&#41;&quot;\n   :networking &quot;$6,000&quot;\n   :ups-battery &quot;$8,000 &#40;N+1 redundant, 30min runtime&#41;&quot;\n   :monitoring-tools &quot;$2,000 &#40;hardware, sensors&#41;&quot;\n   :misc-cables-tools &quot;$3,000&quot;\n   :total-capex &quot;$166,500&quot;\n   :depreciation &quot;3-year straight-line = $55,500/year&quot;}\n  \n  :operating-expenditure-opex-monthly\n  {:lease &quot;$5,000/month&quot;\n   :power {:consumption &quot;6kW cluster + 2kW cooling + 1kW networking = 9kW&quot;\n           :hours-per-month 730\n           :kwh-per-month 6570\n           :rate-per-kwh &quot;$0.12 &#40;commercial rate&#41;&quot;\n           :monthly-cost &quot;$788&quot;}\n   :internet &quot;$1,000/month &#40;10 Gbps&#41;&quot;\n   :insurance &quot;$500/month&quot;\n   :maintenance-labor &quot;$2,000/month &#40;part-time admin, or coop member&#41;&quot;\n   :cooling-maintenance &quot;$200/month&quot;\n   :total-opex-monthly &quot;$9,488&quot;}\n  \n  :annual-costs\n  {:opex-annual &quot;$113,856 &#40;opex × 12&#41;&quot;\n   :depreciation-annual &quot;$55,500&quot;\n   :total-annual-cost &quot;$169,356&quot;\n   :cost-per-month &quot;$14,113&quot;}\n  \n  :capacity\n  {:cpu-cores &quot;480C/960T&quot;\n   :ram &quot;7.5TB&quot;\n   :storage &quot;120TB NVMe + 480TB SSD&quot;\n   :cost-per-core-per-month &quot;$29.40&quot;\n   :cost-per-gb-ram-per-month &quot;$1.88&quot;}}}\n</code></pre><h3>Scenario 2: GPU-Based Cluster (AMD GPU, Better Tier)</h3><pre><code class=\"clojure\">{:tco-gpu-cluster-better\n {:capital-expenditure-capex\n  {:infrastructure-buildout &quot;$75,000 &#40;beefier power/cooling for GPUs&#41;&quot;\n   :compute-hardware &quot;$72,000 &#40;6 nodes w/ 4x W7900 each&#41;&quot;\n   :networking &quot;$8,000 &#40;higher bandwidth for GPU traffic&#41;&quot;\n   :ups-battery &quot;$12,000 &#40;larger for GPU power spikes&#41;&quot;\n   :monitoring-tools &quot;$3,000&quot;\n   :misc &quot;$4,000&quot;\n   :total-capex &quot;$174,000&quot;\n   :depreciation &quot;3-year = $58,000/year&quot;}\n  \n  :operating-expenditure-opex-monthly\n  {:lease &quot;$5,000/month&quot;\n   :power {:consumption &quot;9.6kW cluster + 4kW cooling = 13.6kW&quot;\n           :kwh-per-month 9928\n           :monthly-cost &quot;$1,191&quot;}\n   :internet &quot;$1,000/month&quot;\n   :insurance &quot;$600/month &#40;higher value equipment&#41;&quot;\n   :maintenance-labor &quot;$2,500/month&quot;\n   :cooling-maintenance &quot;$300/month&quot;\n   :total-opex-monthly &quot;$10,591&quot;}\n  \n  :annual-costs\n  {:opex-annual &quot;$127,092&quot;\n   :depreciation-annual &quot;$58,000&quot;\n   :total-annual-cost &quot;$185,092&quot;\n   :cost-per-month &quot;$15,424&quot;}\n  \n  :capacity\n  {:gpu-tflops &quot;1,464 TFLOPS &#40;FP32&#41;&quot;\n   :gpu-vram &quot;1.15TB&quot;\n   :cpu-cores &quot;192C/384T&quot;\n   :ram &quot;1.5TB&quot;\n   :cost-per-tflop-per-month &quot;$10.54&quot;\n   :cost-per-gb-vram-per-month &quot;$13.41&quot;}}}\n</code></pre><h3>Scenario 3: ARM Cluster (Ampere, Better Tier)</h3><pre><code class=\"clojure\">{:tco-arm-cluster-better\n {:capital-expenditure-capex\n  {:infrastructure-buildout &quot;$55,000 &#40;lower power = less cooling&#41;&quot;\n   :compute-hardware &quot;$124,800 &#40;16 nodes&#41;&quot;\n   :networking &quot;$6,000&quot;\n   :ups-battery &quot;$6,000 &#40;smaller due to lower power&#41;&quot;\n   :monitoring-tools &quot;$2,000&quot;\n   :misc &quot;$3,000&quot;\n   :total-capex &quot;$196,800&quot;\n   :depreciation &quot;3-year = $65,600/year&quot;}\n  \n  :operating-expenditure-opex-monthly\n  {:lease &quot;$5,000/month&quot;\n   :power {:consumption &quot;4.5kW cluster + 1.5kW cooling = 6kW&quot;\n           :kwh-per-month 4380\n           :monthly-cost &quot;$526&quot;}\n   :internet &quot;$1,000/month&quot;\n   :insurance &quot;$500/month&quot;\n   :maintenance-labor &quot;$2,000/month&quot;\n   :cooling-maintenance &quot;$150/month&quot;\n   :total-opex-monthly &quot;$9,176&quot;}\n  \n  :annual-costs\n  {:opex-annual &quot;$110,112&quot;\n   :depreciation-annual &quot;$65,600&quot;\n   :total-annual-cost &quot;$175,712&quot;\n   :cost-per-month &quot;$14,643&quot;}\n  \n  :capacity\n  {:cpu-cores &quot;2,048 ARM cores&quot;\n   :ram &quot;8TB&quot;\n   :storage &quot;256TB NVMe + 512TB SSD&quot;\n   :cost-per-core-per-month &quot;$7.15&quot;\n   :cost-per-gb-ram-per-month &quot;$1.83&quot;}}}\n</code></pre><h2></h2><h2>Part IV: Cloud Cost Comparisons</h2><h3>AWS EKS (Elastic Kubernetes Service) — Equivalent Workload</h3><pre><code class=\"clojure\">{:aws-eks-cpu-equivalent\n {:scenario &quot;Match CPU cluster &#40;480C/960T, 7.5TB RAM&#41;&quot;\n  \n  :instance-type &quot;m6i.32xlarge &#40;128 vCPU, 512GB RAM&#41;&quot;\n  :instances-needed &quot;4 &#40;to get 512 vCPU, but AWS vCPU = 1 hyperthread&#41;&quot;\n  :on-demand-price &quot;$6.144/hour per instance&quot;\n  :monthly-cost-compute &quot;$17,694 &#40;4 × $6.144 × 730&#41;&quot;\n  \n  :storage-ebs\n  {:nvme-equivalent &quot;120TB gp3 SSD&quot;\n   :cost &quot;$9,600/month &#40;$0.08/GB-month&#41;&quot;\n   :ssd-equivalent &quot;480TB gp3&quot;\n   :cost &quot;$38,400/month&quot;\n   :total-storage &quot;$48,000/month&quot;}\n  \n  :networking\n  {:data-transfer-out &quot;5TB/month &#40;conservative&#41;&quot;\n   :cost &quot;$450/month &#40;$0.09/GB after first 10TB free tier&#41;&quot;\n   :load-balancer &quot;$22/month &#40;NLB&#41;&quot;\n   :total-networking &quot;$472/month&quot;}\n  \n  :eks-control-plane &quot;$73/month per cluster&quot;\n  \n  :total-monthly-aws &quot;$66,239&quot;\n  :total-annual-aws &quot;$794,868&quot;\n  \n  :self-hosted-annual &quot;$169,356 &#40;from Scenario 1&#41;&quot;\n  :savings-annual &quot;$625,512 &#40;79% cheaper self-hosted&#41;&quot;\n  :break-even &quot;2.5 months&quot;}\n \n :aws-eks-gpu-equivalent\n  {:scenario &quot;Match GPU cluster &#40;1,464 TFLOPS, 1.15TB VRAM&#41;&quot;\n   \n   :instance-type &quot;p4d.24xlarge &#40;8x A100 40GB, 96 vCPU, 1.15TB RAM&#41;&quot;\n   :instances-needed &quot;1 &#40;8x A100 = &#126;1,248 TFLOPS FP32, close enough&#41;&quot;\n   :on-demand-price &quot;$32.77/hour&quot;\n   :monthly-cost-compute &quot;$23,922&quot;\n   \n   :storage-ebs\n   {:nvme &quot;12TB gp3&quot;\n    :cost &quot;$960/month&quot;\n    :ssd &quot;48TB gp3&quot;\n    :cost &quot;$3,840/month&quot;\n    :total-storage &quot;$4,800/month&quot;}\n   \n   :networking &quot;$500/month&quot;\n   :eks-control-plane &quot;$73/month&quot;\n   \n   :total-monthly-aws &quot;$29,295&quot;\n   :total-annual-aws &quot;$351,540&quot;\n   \n   :self-hosted-annual &quot;$185,092 &#40;from Scenario 2&#41;&quot;\n   :savings-annual &quot;$166,448 &#40;47% cheaper self-hosted&#41;&quot;\n   :break-even &quot;5.9 months&quot;\n   \n   :note &quot;AWS uses NVIDIA A100, we use AMD W7900 &#40;cheaper/TFLOP but less mature ecosystem&#41;&quot;}}}\n</code></pre><h3>GCP GKE (Google Kubernetes Engine) — Equivalent Workload</h3><pre><code class=\"clojure\">{:gcp-gke-cpu-equivalent\n {:scenario &quot;Match CPU cluster &#40;480C/960T, 7.5TB RAM&#41;&quot;\n  \n  :instance-type &quot;n2-highmem-128 &#40;128 vCPU, 864GB RAM&#41;&quot;\n  :instances-needed &quot;4&quot;\n  :on-demand-price &quot;$5.7536/hour per instance&quot;\n  :monthly-cost-compute &quot;$16,800&quot;\n  \n  :storage-pd-ssd\n  {:nvme-equiv &quot;120TB SSD&quot;\n   :cost &quot;$20,400/month &#40;$0.17/GB-month&#41;&quot;\n   :standard-ssd &quot;480TB&quot;\n   :cost &quot;$81,600/month&quot;\n   :total-storage &quot;$102,000/month&quot;\n   :note &quot;GCP storage MORE expensive than AWS&quot;}\n  \n  :networking\n  {:egress &quot;5TB/month&quot;\n   :cost &quot;$600/month &#40;$0.12/GB&#41;&quot;\n   :load-balancer &quot;$18/month&quot;\n   :total-networking &quot;$618/month&quot;}\n  \n  :gke-control-plane &quot;$73/month&quot;\n  \n  :total-monthly-gcp &quot;$119,491&quot;\n  :total-annual-gcp &quot;$1,433,892&quot;\n  \n  :self-hosted-annual &quot;$169,356&quot;\n  :savings-annual &quot;$1,264,536 &#40;88% cheaper self-hosted&#41;&quot;\n  :break-even &quot;1.4 months&quot;\n  :conclusion &quot;GCP storage costs MURDER the budget&quot;}\n \n :gcp-gke-gpu-equivalent\n  {:scenario &quot;Match GPU cluster &#40;1,464 TFLOPS, 1.15TB VRAM&#41;&quot;\n   \n   :instance-type &quot;a2-ultragpu-8g &#40;8x A100 80GB, 96 vCPU&#41;&quot;\n   :note &quot;Overkill &#40;640GB VRAM vs our 1.15TB&#41;, but closest match&quot;\n   :instances-needed &quot;2 &#40;to get &#126;1.15TB VRAM&#41;&quot;\n   :on-demand-price &quot;$29.39/hour per instance&quot;\n   :monthly-cost-compute &quot;$42,909 &#40;2 × $29.39 × 730&#41;&quot;\n   \n   :storage-pd-ssd\n   {:total &quot;60TB &#40;lower due to higher compute&#41;&quot;\n    :cost &quot;$10,200/month&quot;}\n   \n   :networking &quot;$600/month&quot;\n   :gke-control-plane &quot;$73/month&quot;\n   \n   :total-monthly-gcp &quot;$53,782&quot;\n   :total-annual-gcp &quot;$645,384&quot;\n   \n   :self-hosted-annual &quot;$185,092&quot;\n   :savings-annual &quot;$460,292 &#40;71% cheaper self-hosted&#41;&quot;\n   :break-even &quot;3.8 months&quot;}}\n</code></pre><h2></h2><h2>Part V: LLM Service Comparisons (Cursor, Claude Code)</h2><pre><code class=\"clojure\">{:llm-services-cost\n {:cursor-pro\n  {:price &quot;$20/month per seat&quot;\n   :included &quot;500 premium requests/month &#40;GPT-4 class&#41;&quot;\n   :overage &quot;$0.01 per request after 500&quot;\n   :use-case &quot;Code completion, chat, inline edits&quot;\n   :self-hosted-equivalent\n   {:model &quot;CodeLlama 34B or DeepSeek Coder 33B&quot;\n    :hardware-req &quot;1x AMD W7900 &#40;48GB VRAM&#41; can run it&quot;\n    :inference-cost &quot;&#126;$0.0001/request &#40;electricity only&#41;&quot;\n    :setup-effort &quot;Medium &#40;deploy vLLM, fine-tune for code&#41;&quot;\n    :quality &quot;90-95% of Cursor quality &#40;rapidly improving&#41;&quot;}\n   \n   :heavy-user-scenario\n   {:requests-per-month 5000\n    :cursor-cost &quot;$20 + $45 overage = $65/month&quot;\n    :self-hosted-cost &quot;$0.50/month &#40;electricity&#41;&quot;\n    :annual-savings &quot;$774 per user&quot;\n    :team-of-10 &quot;$7,740/year savings&quot;}}\n  \n  :cursor-max\n  {:price &quot;$40/month per seat&quot;\n   :included &quot;Unlimited premium requests &#40;fair use&#41;&quot;\n   :use-case &quot;Heavy users, AI pair programming&quot;\n   :self-hosted-equivalent\n   {:model &quot;Mixtral 8x22B or Qwen2.5 Coder 32B&quot;\n    :hardware-req &quot;2x AMD W7900 &#40;96GB VRAM&#41;&quot;\n    :inference-cost &quot;&#126;$0.0002/request&quot;\n    :quality &quot;95-98% of Cursor Max&quot;\n    :latency &quot;Slightly higher &#40;local GPU vs Cursor's optimized infra&#41;&quot;}\n   \n   :team-of-10-annual\n   {:cursor-cost &quot;$4,800/year&quot;\n    :self-hosted-cost &quot;$24/year &#40;electricity&#41;&quot;\n    :hardware-amortized &quot;$4,000/year &#40;2x W7900, 3-year depreciation&#41;&quot;\n    :total-self-hosted &quot;$4,024/year&quot;\n    :savings &quot;$776/year &#40;16% cheaper, BUT you own hardware&#41;&quot;\n    :true-benefit &quot;After year 3, only electricity cost &#40;$24/year&#41;&quot;}}\n  \n  :claude-code-pro\n  {:price &quot;$20/month per seat &#40;hypothetical, not released Q4 2025&#41;&quot;\n   :included &quot;Assumed similar to Cursor&quot;\n   :model &quot;Claude 3.7 Sonnet or Opus&quot;\n   :use-case &quot;Code generation, refactoring, architecture chat&quot;\n   \n   :self-hosted-equivalent\n   {:model &quot;No open-source Claude equivalent yet&quot;\n    :alternatives &quot;Llama 3.3 405B &#40;too big&#41;, Qwen2.5 72B &#40;fits on 4x W7900&#41;&quot;\n    :quality &quot;70-85% of Claude &#40;as of Q4 2025, gap closing&#41;&quot;\n    :hardware-req &quot;4x AMD W7900 &#40;192GB VRAM&#41; for Qwen 72B&quot;\n    :inference-cost &quot;$0.0004/request&quot;}}\n  \n  :claude-code-max\n  {:price &quot;$40/month per seat &#40;hypothetical&#41;&quot;\n   :included &quot;Unlimited, extended context &#40;1M tokens&#41;&quot;\n   :model &quot;Claude 3.7 Opus or next-gen&quot;\n   \n   :self-hosted-challenge\n   &quot;No open-source model matches Claude Opus quality yet.\n    Would need to wait for Llama 4 or similar &#40;2026?&#41;.\n    \n    Alternative: Run multiple smaller models &#40;MOE approach&#41;:\n    - Code: Qwen2.5 Coder 32B\n    - Reasoning: Llama 3.3 70B\n    - Refactoring: DeepSeek Coder 33B\n    \n    Hardware: 6x AMD W7900 &#40;288GB VRAM total&#41;\n    Cost: $12,000 &#40;used GPUs&#41;\n    Depreciation: $4,000/year\n    \n    Team of 10:\n    - Claude Max: $4,800/year\n    - Self-hosted: $4,000/year &#40;hardware&#41; + $50/year &#40;power&#41; = $4,050\n    - Savings: $750/year &#40;16%&#41;\n    - After year 3: Only $50/year &#40;99% savings&#41;&quot;}}\n \n :combined-llm-cost-team-of-10\n {:cursor-max-claude-max &quot;$9,600/year &#40;both services&#41;&quot;\n  :self-hosted-full-stack\n  {:hardware &quot;8x AMD W7900 &#40;384GB VRAM&#41; - covers all models&quot;\n   :hardware-cost &quot;$16,000 &#40;used market&#41;&quot;\n   :depreciation-annual &quot;$5,333&quot;\n   :power-annual &quot;$100 &#40;8 GPUs × &#126;250W × 10% utilization&#41;&quot;\n   :total-annual &quot;$5,433&quot;\n   :savings-year-1 &quot;$4,167 &#40;43%&#41;&quot;\n   :savings-year-2 &quot;$4,167&quot;\n   :savings-year-3 &quot;$4,167&quot;\n   :savings-year-4+ &quot;$9,500/year &#40;99% savings, only power&#41;&quot;}\n  \n  :break-even &quot;&#126;3.8 years, then massive savings&quot;\n  :non-financial-benefits\n  &#91;&quot;Data privacy &#40;code never leaves your infra&#41;&quot;\n   &quot;Customization &#40;fine-tune on your codebase&#41;&quot;\n   &quot;No rate limits &#40;run 24/7 if needed&#41;&quot;\n   &quot;Independence from vendor pricing changes&quot;\n   &quot;Aligns with mantraOS philosophy &#40;self-hosted, cooperative&#41;&quot;&#93;}}}\n</code></pre><h2></h2><h2>Part VI: Comprehensive Cost Comparison (3-Year TCO)</h2><h3>Summary Table: All Options</h3><table><thead><tr><th><strong>Option</strong></th><th><strong>Year 1</strong></th><th><strong>Year 2</strong></th><th><strong>Year 3</strong></th><th><strong>3-Year Total</strong></th><th><strong>Notes</strong></th></tr></thead><tbody><tr><td><strong>Self-Hosted CPU Cluster (Better)</strong></td><td>$166k CAPEX + $114k OPEX = $280k</td><td>$114k</td><td>$114k</td><td><strong>$508k</strong></td><td>Own hardware, full control</td></tr><tr><td><strong>Self-Hosted GPU Cluster (Better)</strong></td><td>$174k CAPEX + $127k OPEX = $301k</td><td>$127k</td><td>$127k</td><td><strong>$555k</strong></td><td>AI/ML focused</td></tr><tr><td><strong>Self-Hosted ARM Cluster (Better)</strong></td><td>$197k CAPEX + $110k OPEX = $307k</td><td>$110k</td><td>$110k</td><td><strong>$527k</strong></td><td>Best efficiency</td></tr><tr><td><strong>AWS EKS CPU Equivalent</strong></td><td>$795k</td><td>$795k</td><td>$795k</td><td><strong>$2,385k</strong></td><td>4.7x more expensive</td></tr><tr><td><strong>AWS EKS GPU Equivalent</strong></td><td>$352k</td><td>$352k</td><td>$352k</td><td><strong>$1,056k</strong></td><td>1.9x more expensive</td></tr><tr><td><strong>GCP GKE CPU Equivalent</strong></td><td>$1,434k</td><td>$1,434k</td><td>$1,434k</td><td><strong>$4,302k</strong></td><td>8.5x more expensive!</td></tr><tr><td><strong>GCP GKE GPU Equivalent</strong></td><td>$645k</td><td>$645k</td><td>$645k</td><td><strong>$1,935k</strong></td><td>3.5x more expensive</td></tr><tr><td><strong>Cursor Max (team of 10)</strong></td><td>$4.8k</td><td>$4.8k</td><td>$4.8k</td><td><strong>$14.4k</strong></td><td>Per-seat SaaS</td></tr><tr><td><strong>Claude Code Max (team of 10)</strong></td><td>$4.8k</td><td>$4.8k</td><td>$4.8k</td><td><strong>$14.4k</strong></td><td>Hypothetical pricing</td></tr><tr><td><strong>Self-Hosted LLM (8x GPU)</strong></td><td>$16k CAPEX + $0.1k OPEX = $16.1k</td><td>$0.1k</td><td>$0.1k</td><td><strong>$16.3k</strong></td><td>Cheaper after year 1</td></tr></tbody></table><h3>Key Insights</h3><pre><code class=\"clojure\">{:insights\n {:self-hosted-cpu-vs-aws\n  &quot;AWS EKS costs $2.4M over 3 years vs $508k self-hosted.\n   Savings: $1.9M &#40;79%&#41;\n   Break-even: 2.5 months\n   \n   Conclusion: AWS makes NO financial sense for steady workloads.&quot;\n  \n  :self-hosted-gpu-vs-aws\n  &quot;AWS p4d costs $1.1M vs $555k self-hosted.\n   Savings: $501k &#40;47%&#41;\n   Break-even: 5.9 months\n   \n   Conclusion: Self-hosted wins, but margin smaller &#40;GPU depreciation faster&#41;.&quot;\n  \n  :gcp-storage-costs\n  &quot;GCP persistent disk is INSANELY expensive.\n   $102k/month for 600TB vs AWS $48k.\n   \n   Unless you're all-in on GCP services &#40;BigQuery, etc.&#41;, avoid for storage-heavy workloads.&quot;\n  \n  :arm-efficiency\n  &quot;ARM cluster: 2,048 cores for $527k over 3 years.\n   Cost per core: $257/core over 3 years.\n   \n   x86 cluster: 480 cores for $508k.\n   Cost per core: $1,058/core over 3 years.\n   \n   ARM is 4x cheaper per core, IF your software supports ARM.&quot;\n  \n  :llm-self-hosting\n  &quot;For a team of 10, Cursor + Claude = $9.6k/year.\n   Self-hosting 8x GPUs: $5.4k/year &#40;year 1&#41;, then $100/year.\n   \n   Break-even: 3.8 years.\n   After that: 99% cost reduction.\n   \n   Non-financial: Data privacy, customization, no rate limits.&quot;\n  \n  :mantraos-recommendation\n  &quot;For mantraOS city-states:\n   \n   1. Start with CPU cluster &#40;Better tier&#41;: $508k/3yr\n      - Handles web services, databases, batch processing\n      - Proven ROI vs cloud\n   \n   2. Add GPU nodes incrementally as AI workloads grow\n      - 2-4 nodes initially &#40;$24k-48k&#41;\n      - Scale based on demand\n   \n   3. Deploy LLM self-hosting for dev tools\n      - 4-8 GPUs dedicated to code assistance\n      - Saves $5k+/year per 10 developers after year 1\n   \n   4. Total Year 1: &#126;$550k &#40;CPU cluster + small GPU + LLM&#41;\n      Total Years 2-3: &#126;$250k/year\n      \n      vs AWS equivalent: $800k+/year\n      \n      3-year savings: &#126;$1.4M&quot;}}\n</code></pre><h2></h2><h2>Part VII: Implementation Timeline</h2><h3>Month-by-Month Breakdown (Better Tier, CPU + GPU Hybrid)</h3><pre><code class=\"clojure\">{:implementation-timeline\n {:month-1 &quot;Planning &amp; Acquisition&quot;\n  {:tasks\n   &#91;&quot;Identify microbrewery location &#40;Sacramento Valley pilot&#41;&quot;\n    &quot;Negotiate lease &#40;$5k/month, 2-year term&#41;&quot;\n    &quot;Electrical assessment &#40;hire licensed electrician&#41;&quot;\n    &quot;Order long-lead items &#40;precision AC units, UPS systems&#41;&quot;\n    &quot;Source used server hardware &#40;eBay, LabGopher, /r/homelabsales&#41;&quot;\n    &quot;Plan fiber internet installation &#40;business tier&#41;&quot;&#93;\n   :team &quot;2-3 people &#40;project lead, electrician consultant, procurement&#41;&quot;\n   :spend &quot;$25k &#40;deposits, initial hardware purchases&#41;&quot;}\n  \n  :month-2 &quot;Infrastructure Buildout&quot;\n  {:tasks\n   &#91;&quot;Electrical upgrade to 400A 3-phase&quot;\n    &quot;Install precision AC &#40;2x 10-ton units, N+1 redundancy&#41;&quot;\n    &quot;Network fiber installation &#40;10 Gbps&#41;&quot;\n    &quot;Rack installation &#40;5x 42U racks&#41;&quot;\n    &quot;UPS installation &#40;30min runtime at 10kW load&#41;&quot;\n    &quot;Fire suppression &#40;pre-action sprinkler&#41;&quot;&#93;\n   :team &quot;4-6 people &#40;electricians, HVAC, network techs, general labor&#41;&quot;\n   :spend &quot;$60k &#40;infrastructure completion&#41;&quot;}\n  \n  :month-3 &quot;Hardware Deployment&quot;\n  {:tasks\n   &#91;&quot;Receive and inventory servers &#40;15x EPYC CPU, 4x EPYC+GPU&#41;&quot;\n    &quot;Rack and stack all nodes&quot;\n    &quot;Cable management &#40;power, network&#41;&quot;\n    &quot;Install NixOS on all nodes &#40;via PXE boot&#41;&quot;\n    &quot;Configure networking &#40;VLANs, routing&#41;&quot;\n    &quot;Initial cluster bring-up &#40;K3s or Nomad&#41;&quot;&#93;\n   :team &quot;3-4 people &#40;sysadmins, network engineers&#41;&quot;\n   :spend &quot;$110k &#40;hardware arrival, final components&#41;&quot;}\n  \n  :month-4 &quot;Software Configuration&quot;\n  {:tasks\n   &#91;&quot;Deploy storage layer &#40;Ceph or Longhorn&#41;&quot;\n    &quot;Configure service mesh &#40;Linkerd&#41;&quot;\n    &quot;Set up observability &#40;Prometheus, Grafana, Loki&#41;&quot;\n    &quot;Deploy first test workloads&quot;\n    &quot;Load testing and optimization&quot;\n    &quot;Documentation &#40;runbooks, architecture diagrams&#41;&quot;&#93;\n   :team &quot;2-3 people &#40;DevOps, SRE&#41;&quot;\n   :spend &quot;$5k &#40;monitoring hardware, misc&#41;&quot;}\n  \n  :month-5 &quot;AI/ML Stack Deployment&quot;\n  {:tasks\n   &#91;&quot;Install ROCm on GPU nodes&quot;\n    &quot;Deploy vLLM for LLM inference&quot;\n    &quot;Set up model registry &#40;MinIO + metadata DB&#41;&quot;\n    &quot;Deploy vector database &#40;Qdrant&#41;&quot;\n    &quot;Fine-tune code models &#40;CodeLlama, DeepSeek&#41;&quot;\n    &quot;Integration testing with dev tools&quot;&#93;\n   :team &quot;2 people &#40;ML engineers&#41;&quot;\n   :spend &quot;$2k &#40;model weights, test credits&#41;&quot;}\n  \n  :month-6 &quot;Production Cutover &amp; Optimization&quot;\n  {:tasks\n   &#91;&quot;Migrate dev/staging workloads from cloud&quot;\n    &quot;Performance tuning &#40;CPU governor, NUMA, huge pages&#41;&quot;\n    &quot;Security hardening &#40;SELinux, firewall rules&#41;&quot;\n    &quot;Disaster recovery testing &#40;backup/restore&#41;&quot;\n    &quot;Cost validation &#40;compare actual vs projected&#41;&quot;\n    &quot;Team training &#40;on-call rotation&#41;&quot;&#93;\n   :team &quot;3-5 people &#40;full team&#41;&quot;\n   :spend &quot;$3k &#40;DR testing, training&#41;&quot;}\n  \n  :total-timeline &quot;6 months from lease signing to production&quot;\n  :total-capex &quot;$205k &#40;infrastructure + hardware&#41;&quot;\n  :total-opex-6mo &quot;$57k &#40;6 × $9.5k&#41;&quot;\n  :total-investment-6mo &quot;$262k&quot;\n  \n  :ongoing-monthly &quot;$9.5k &#40;opex&#41; + $5.4k &#40;depreciation&#41; = $14.9k/month&quot;}\n</code></pre><h2></h2><h2>Part VIII: Risk Assessment & Mitigation</h2><pre><code class=\"clojure\">{:risks-and-mitigation\n {:technical-risks\n  {:hardware-failure\n   {:probability &quot;Medium &#40;used hardware has higher failure rate&#41;&quot;\n    :impact &quot;Medium &#40;redundancy limits blast radius&#41;&quot;\n    :mitigation\n    &#91;&quot;N+1 redundancy on critical components&quot;\n     &quot;Hot spares &#40;1-2 nodes extra, not racked&#41;&quot;\n     &quot;Comprehensive monitoring &#40;detect failures early&#41;&quot;\n     &quot;Vendor support contracts for critical parts &#40;power supplies, etc.&#41;&quot;&#93;\n    :residual-risk &quot;Low&quot;}\n   \n   :cooling-failure\n   {:probability &quot;Low &#40;HVAC is mature tech&#41;&quot;\n    :impact &quot;High &#40;thermal shutdown, potential hardware damage&#41;&quot;\n    :mitigation\n    &#91;&quot;Redundant AC units &#40;N+1&#41;&quot;\n     &quot;Temperature monitoring with alerts&quot;\n     &quot;Automatic workload migration if temps exceed threshold&quot;\n     &quot;Emergency procedure: shut down non-critical workloads first&quot;&#93;\n    :residual-risk &quot;Low&quot;}\n   \n   :network-outage\n   {:probability &quot;Low &#40;business fiber has SLAs&#41;&quot;\n    :impact &quot;High &#40;cluster inaccessible&#41;&quot;\n    :mitigation\n    &#91;&quot;Dual fiber providers &#40;diverse paths&#41; for Best tier&quot;\n     &quot;4G/5G backup link &#40;Starlink or cellular&#41; for critical management&quot;\n     &quot;Offline operational capability &#40;cluster can function without internet for internal tasks&#41;&quot;&#93;\n    :residual-risk &quot;Low &#40;Budget tier&#41;, Very Low &#40;Best tier&#41;&quot;}\n   \n   :software-bugs\n   {:probability &quot;Medium &#40;Kubernetes is complex&#41;&quot;\n    :impact &quot;Variable &#40;depends on bug&#41;&quot;\n    :mitigation\n    &#91;&quot;Staging environment &#40;separate cluster or namespace&#41;&quot;\n     &quot;Blue-green deployments&quot;\n     &quot;Automated rollback on failure&quot;\n     &quot;Comprehensive testing &#40;unit, integration, load&#41;&quot;&#93;\n    :residual-risk &quot;Low&quot;}}\n  \n  :business-risks\n  {:landlord-issues\n   {:probability &quot;Low-Medium &#40;breweries in distressed markets&#41;&quot;\n    :impact &quot;Medium &#40;forced relocation&#41;&quot;\n    :mitigation\n    &#91;&quot;2-year lease minimum &#40;time to find alternative&#41;&quot;\n     &quot;Portable infrastructure &#40;racks on wheels, quick-disconnect&#41;&quot;\n     &quot;Backup site identified &#40;in advance&#41;&quot;\n     &quot;Documentation for rapid rebuild &#40;NixOS configs&#41;&quot;&#93;\n    :residual-risk &quot;Low&quot;}\n   \n   :power-cost-volatility\n   {:probability &quot;Medium &#40;energy markets fluctuate&#41;&quot;\n    :impact &quot;Low-Medium &#40;10-20% cost increase&#41;&quot;\n    :mitigation\n    &#91;&quot;Solar panels &#40;future phase, reduce grid dependence&#41;&quot;\n     &quot;Power purchase agreement &#40;PPA&#41; to lock rates&quot;\n     &quot;ARM cluster option &#40;if power costs spike, migrate to lower-watt&#41;&quot;&#93;\n    :residual-risk &quot;Low&quot;}\n   \n   :regulatory-compliance\n   {:probability &quot;Low &#40;data centers generally allowed in industrial zones&#41;&quot;\n    :impact &quot;High &#40;shutdown order&#41;&quot;\n    :mitigation\n    &#91;&quot;Zoning verification before lease signing&quot;\n     &quot;Permits for electrical work &#40;licensed contractors&#41;&quot;\n     &quot;Fire code compliance &#40;suppression, exits&#41;&quot;\n     &quot;Environmental &#40;no hazardous materials, proper e-waste disposal&#41;&quot;&#93;\n    :residual-risk &quot;Very Low&quot;}}\n  \n  :security-risks\n  {:physical-security\n   {:probability &quot;Low &#40;industrial area, not high-crime&#41;&quot;\n    :impact &quot;High &#40;hardware theft, data breach if drives stolen&#41;&quot;\n    :mitigation\n    &#91;&quot;Cameras &#40;internal and external&#41;&quot;\n     &quot;Access control &#40;keycard or biometric&#41;&quot;\n     &quot;Full-disk encryption on all drives&quot;\n     &quot;Alarm system &#40;monitored&#41;&quot;&#93;\n    :residual-risk &quot;Low&quot;}\n   \n   :cyber-security\n   {:probability &quot;Medium &#40;internet-facing services&#41;&quot;\n    :impact &quot;High &#40;data breach, ransomware&#41;&quot;\n    :mitigation\n    &#91;&quot;Defense in depth &#40;firewall, WAF, IDS/IPS&#41;&quot;\n     &quot;Regular patching &#40;NixOS makes this easy&#41;&quot;\n     &quot;Penetration testing &#40;quarterly&#41;&quot;\n     &quot;Incident response plan&quot;\n     &quot;Offline backups &#40;air-gapped, immutable&#41;&quot;&#93;\n    :residual-risk &quot;Low-Medium &#40;ongoing vigilance required&#41;&quot;}}}}\n</code></pre><h2></h2><h2>Part IX: Conclusion & Recommendations</h2><h3>The mantraOS Self-Hosted Compute Strategy</h3><pre><code class=\"clojure\">{:strategic-recommendation\n {:phase-1-pilot &quot;Sacramento Valley Microbrewery &#40;Q4 2025 - Q2 2026&#41;&quot;\n  {:investment &quot;$205k CAPEX + $57k OPEX &#40;6 months&#41; = $262k&quot;\n   :configuration\n   {:cpu-nodes &quot;10x AMD EPYC 7543 &#40;320C/640T, 5TB RAM&#41;&quot;\n    :gpu-nodes &quot;4x EPYC + 4x AMD W7900 &#40;768 TFLOPS, 768GB VRAM&#41;&quot;\n    :storage &quot;80TB NVMe + 320TB SSD&quot;\n    :networking &quot;10 Gbps fiber, dual-provider&quot;}\n   \n   :workloads\n   &#91;&quot;mantraOS web services &#40;Svelte frontend, Clojure backend&#41;&quot;\n    &quot;Agricultural data processing &#40;sensor streams, weather models&#41;&quot;\n    &quot;Local AI inference &#40;crop recommendations, pest detection&#41;&quot;\n    &quot;Dev tools &#40;self-hosted Cursor/Claude equivalent for 20 devs&#41;&quot;\n    &quot;Voucher system backend &#40;transaction processing, ledger&#41;&quot;&#93;\n   \n   :expected-outcomes\n   &#91;&quot;Prove TCO model &#40;validate $1.9M savings vs AWS over 3 years&#41;&quot;\n    &quot;Demonstrate technical feasibility &#40;NixOS + K3s + ROCm stack&#41;&quot;\n    &quot;Train local team &#40;5-8 people become proficient&#41;&quot;\n    &quot;Showcase to other city-states &#40;marketing for model replication&#41;&quot;&#93;}\n  \n  :phase-2-expansion &quot;Willamette Valley, Shenandoah Valley &#40;Q3 2026 - Q2 2027&#41;&quot;\n  {:investment &quot;$500k &#40;2 more sites, lessons learned from pilot&#41;&quot;\n   :configuration &quot;Replicate Sacramento model with minor optimizations&quot;\n   :workloads &quot;Same as Phase 1 + federated learning &#40;share models across city-states&#41;&quot;\n   :networking &quot;Dark fiber between sites &#40;private WAN, 100 Gbps&#41;&quot;\n   :expected-outcomes\n   &#91;&quot;3 operational clusters &#40;geographic redundancy&#41;&quot;\n    &quot;Federated compute &#40;burst workloads across sites&#41;&quot;\n    &quot;Cost reduction &#40;bulk hardware purchasing&#41;&quot;\n    &quot;Proof of inter-city-state cooperation&quot;&#93;}\n  \n  :phase-3-federation &quot;5-10 City-States &#40;2027-2028&#41;&quot;\n  {:investment &quot;$2-4M &#40;scale economics kick in&#41;&quot;\n   :configuration\n   {:total-nodes &quot;200-400 servers across 10 sites&quot;\n    :total-compute &quot;10,000+ cores, 1+ PB RAM&quot;\n    :total-gpu &quot;20-40 PB VRAM &#40;AI powerhouse&#41;&quot;\n    :total-storage &quot;10+ PB NVMe, 50+ PB SSD&quot;}\n   \n   :advanced-features\n   &#91;&quot;Multi-cluster K8s federation &#40;Cluster API&#41;&quot;\n    &quot;Cross-site storage replication &#40;geo-distributed Ceph&#41;&quot;\n    &quot;Shared model registry &#40;all city-states access same LLMs&#41;&quot;\n    &quot;Cooperative compute market &#40;city-states rent excess capacity to each other&#41;&quot;\n    &quot;Disaster recovery &#40;any 2 sites can fail, system continues&#41;&quot;&#93;\n   \n   :expected-outcomes\n   &#91;&quot;Compete with regional cloud providers &#40;AWS us-west, etc.&#41;&quot;\n    &quot;Complete independence from Big Tech&quot;\n    &quot;Revenue generation &#40;sell excess compute to aligned orgs&#41;&quot;\n    &quot;Model for national replication &#40;100+ city-states by 2030&#41;&quot;&#93;}\n  \n  :mantraos-alignment\n  &quot;This infrastructure IS mantraOS philosophy manifested:\n   \n   - Keter &#40;Sovereignty&#41;: Own our compute, not rent from AWS\n   - Chokhmah &#40;Wisdom&#41;: Repurpose breweries, commodity hardware\n   - Binah &#40;Recycling&#41;: Buy used servers, extend their life\n   - Chesed &#40;Open Source&#41;: All software GPL/open, share with network\n   - Gevurah &#40;Boundaries&#41;: Local control, no cloud vendor lock-in\n   - Tiferet &#40;Integration&#41;: Hybrid CPU/GPU, multiple workloads\n   - Netzach &#40;Resilience&#41;: Geographic redundancy, N+1 everything\n   - Hod &#40;Humility&#41;: Right-sized tech, not cloud maximalism\n   - Yesod &#40;Foundation&#41;: Physical infrastructure in each city-state\n   - Malkhut &#40;Manifestation&#41;: Real clusters, serving real users\n   \n   The microbrewery → data center is LITERAL Teshuvah &#40;return&#41;:\n   Fermentation → Computation\n   Brewing → Building\n   Local beer → Local data\n   \n   Both serve the community.\n   Both are rooted in place.\n   Both resist corporate extraction.&quot;}}\n</code></pre><h3>Final Cost Comparison (3-Year, Fully Loaded)</h3><table><thead><tr><th><strong>Scenario</strong></th><th><strong>3-Year Cost</strong></th><th><strong>Cost/Month</strong></th><th><strong>Comparison</strong></th></tr></thead><tbody><tr><td>Self-Hosted Pilot (Better)</td><td>$508k</td><td>$14.1k</td><td><strong>Baseline</strong></td></tr><tr><td>AWS EKS Equivalent</td><td>$2,385k</td><td>$66.2k</td><td><strong>4.7x more</strong></td></tr><tr><td>GCP GKE Equivalent</td><td>$4,302k</td><td>$119.5k</td><td><strong>8.5x more</strong></td></tr><tr><td>Hybrid Cloud (80% self, 20% cloud burst)</td><td>$850k</td><td>$23.6k</td><td><strong>1.7x more</strong></td></tr></tbody></table><p><strong>Conclusion</strong>: Self-hosting saves <strong>$1.9M - $3.8M over 3 years</strong> compared to cloud.</p><p>Break-even: <strong>2.5 - 5.9 months</strong> depending on configuration.<h2></h2></p><h2>Epilogue: From Hops to Hopes</h2><pre><code class=\"clojure\">{:closing-meditation\n {:the-brewery-metaphor\n  &quot;Brewing is alchemy: water + grain + hops + yeast → beer.\n   Computing is alchemy: power + silicon + code + data → intelligence.\n   \n   Both require:\n   - Precise temperature control\n   - Sterile environment &#40;clean room vs clean install&#41;\n   - Patience &#40;fermentation vs compilation&#41;\n   - Iteration &#40;recipe tweaking vs debugging&#41;\n   - Community &#40;beer culture vs open source&#41;\n   \n   The microbrewery failed because it tried to compete globally.\n   The data center succeeds because it serves locally.\n   \n   This is the mantraOS lesson:\n   Not bigger, but better.\n   Not everywhere, but here.\n   Not extracted, but rooted.&quot;\n  \n  :the-economic-case\n  &quot;Self-hosting is not nostalgia.\n   It's not 'going back' to on-prem 1990s.\n   \n   It's recognizing that:\n   - Cloud economics ONLY work for spiky/variable workloads\n   - Steady workloads &#40;like city-state infrastructure&#41; are 5-8x cheaper on-prem\n   - Owning hardware builds equity &#40;vs renting eternally&#41;\n   - Data sovereignty matters &#40;your data, your hardware, your control&#41;\n   \n   AWS/GCP profit margins are 20-30%.\n   That's YOUR money if you self-host.\n   \n   Over 10 years: $5-8M vs $20-40M.\n   The choice is obvious.&quot;\n  \n  :the-philosophical-case\n  &quot;From 9993: Gevurah is strength through boundaries.\n   The boundary is: THIS is ours.\n   \n   The cloud is tzimtzum in reverse—\n   infinite expansion, no limits, 'everywhere' computing.\n   \n   But mantraOS contracts, creates space:\n   This microbrewery.\n   This city-state.\n   This community.\n   \n   In that bounded space, we build what's ours.\n   \n   The fermentation tanks held beer.\n   Now they hold the promise of digital sovereignty.\n   \n   From hops to hopes.\n   From brewing to building.\n   From extraction to regeneration.\n   \n   This is the way.&quot;}}\n</code></pre><h2></h2><h2>References & Resources</h2><pre><code class=\"clojure\">{:technical-resources\n &#91;&quot;AMD EPYC Processors: Specifications and TCO Models&quot;\n  &quot;AMD Instinct/Radeon Pro: AI/ML Performance Benchmarks&quot;\n  &quot;Ampere Altra: ARM Server Architecture&quot;\n  &quot;NixOS: Declarative Cluster Management &#40;docs.nixos.org&#41;&quot;\n  &quot;K3s: Lightweight Kubernetes &#40;k3s.io&#41;&quot;\n  &quot;HashiCorp Nomad: Simple Orchestration &#40;nomadproject.io&#41;&quot;\n  &quot;Ceph Storage: Distributed Storage &#40;ceph.io&#41;&quot;\n  &quot;ROCm: AMD GPU Compute Platform &#40;rocm.docs.amd.com&#41;&quot;\n  &quot;vLLM: Fast LLM Inference &#40;vllm.ai&#41;&quot;&#93;\n \n :cost-analysis-sources\n &#91;&quot;AWS EC2 Pricing Calculator &#40;calculator.aws&#41;&quot;\n  &quot;GCP Pricing Calculator &#40;cloud.google.com/products/calculator&#41;&quot;\n  &quot;Server Monkey: Used Enterprise Hardware Pricing&quot;\n  &quot;LabGopher: Data Center Surplus Search Engine&quot;\n  &quot;/r/homelab, /r/homelabsales: Community pricing data&quot;\n  &quot;Gartner TCO Reports: On-Prem vs Cloud &#40;2024-2025&#41;&quot;&#93;\n \n :brewery-conversion-guides\n &#91;&quot;Industrial Space Reuse: Zoning and Permits &#40;ICMA guides&#41;&quot;\n  &quot;Data Center Power and Cooling: ASHRAE TC 9.9 Standards&quot;\n  &quot;Microbrewery Failure Analysis &#40;Brewers Association data&#41;&quot;\n  &quot;Adaptive Reuse Architecture: Industrial to Tech&quot;&#93;\n \n :mantraos-context\n &#91;&quot;9993: mantraOS — American Agricultural Tech City-States&quot;\n  &quot;9994: European Veganic Vision Through Dante's Paradiso&quot;\n  &quot;9995: Robotic Veganic Farming &amp; American Unity&quot;\n  &quot;9996: NixOS VirtualBox Development on macOS&quot;&#93;}\n</code></pre><h2></h2><p><strong>Next Writing:</strong> 9991 — <em>(To be determined)</em><br /> <strong>Previous Writings:</strong><br /></p><ul><li><a href='9993-mantraos-american-agricultural-tech.md'>9993: mantraOS American Agricultural Tech</a></li><li><a href='9994-european-veganic-farming-dante.md'>9994: European Veganic Vision Through Dante</a></li><li><a href='9995-robotic-veganic-farming-unity.md'>9995: Robotic Veganic Farming & American Unity</a><h2></h2></li></ul><p><strong>Commit Hash</strong>: <em>(To be generated)</em><br /> <strong>Timestamp</strong>: <code>12025-10-05--06thhouse01980</code><br /> <strong>Iteration</strong>: 18 of 2000<br /> <strong>Remaining</strong>: 1982</p><p><strong>From fermentation to computation.</strong><br /> <strong>From cloud dependency to local sovereignty.</strong><br /> <strong>From renting to owning.</strong><br /> <strong>From extraction to building.</strong></p><p><strong>The microbrewery becomes the data center.</strong><br /> <strong>The city-state becomes digitally sovereign.</strong><br /> <strong>mantraOS boots from soil and silicon.</strong></p><p>🍺 → 💻 <strong>The transformation is complete.</strong> 🌱<h2></h2></p><p><div style=\"text-align: center; opacity: 0.6; font-size: 0.85em; margin-top: 3em; padding-top: 1em; border-top: 1px solid rgba(139, 116, 94, 0.2);\"></p><p><strong>Copyright © 2025 <a href='https://codeberg.org/kae3g/12025-10/'>kae3g</a></strong> | Dual-licensed under <a href='https://www.apache.org/licenses/LICENSE-2.0'>Apache-2.0</a> / <a href='https://opensource.org/licenses/MIT'>MIT</a><br /> Competitive technology in service of clarity and beauty</p><p></div></p><p><em><a href='/12025-10/hidden-docs-index.html'>View Hidden Docs Index</a></em> | <em><a href='/12025-10/'>Return to Main Index</a></em></p>",
  "hash" : "2025-10-22T15:17:39.432143253Z-44292"
}